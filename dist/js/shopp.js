"use strict";function AJAX(e,n,t){e=e||0,n=n||!1;$.ajax({url:"/nbyshopp",data:{type:e,contentType:n,cateType:t},success:function(e){localStorage.setItem("goodsNav",JSON.stringify(e.data)),renderShopp(e=e.data)}})}function renderShopp(e){var t;e.cate_acc&&(t="",e.cate_acc.forEach(function(e,n){t+=0==n?'<li class="active" index='+e.cate_id+">"+e.cate_name+"</li>":"<li index="+e.cate_id+">"+e.cate_name+"</li>"}),$(".shoppZhong_ul_one").html(t));var o="";e.content.forEach(function(e,n){o+='\n                <div>\n                        <a href="" good_id="'+e.sid+'">\n                            <img src="'+e.image+'" alt="">\n                            <div>\n                                <p class="image">'+e.product_name+"&nbsp;"+e.color_name+'</p>\n                                <p class="details"> </p>\n                                <p class="price">¥'+e.price+'&nbsp;<span style="text-decoration: line-through;">'+(e.origin_price==e.price?"":e.origin_price)+"</span></p>\n                </div>",e.sale_point&&(o+='<div>\n                            <div class="sale_point" style="background-color: rgb(222, 99, 79); left: 20px;">\n                                <span>新品</span>\n                            </div>\n                        </div>'),o+="</a>\n                    </div>"}),$(".shoppZhong_goods").html(o)}function renderRecommend(e){console.log(e.recommend);var n="";e.recommend.forEach(function(e){n+='\n            <div class="swiper-slide">\n                <a href="">\n                    <img src='+e.image+' alt="">\n                    <div>\n                        <p class="image">'+e.product_name+"&nbsp;"+e.color_name+'</p>\n                        \n                        <p class="price">¥'+e.price+' <span style="text-decoration: line-through;">'+e.origin_price+"</span>\n                        </p>\n                    </div>",e.sale_point&&(n+='\n            <div>\n                <div class="sale_point" style="background-color: rgb(222, 99, 79); left: 20px;">\n                    <span>新品</span>\n                </div>\n            </div>'),n+="\n                </a>\n            </div>"}),$(".swiper-wrapper").html(n),swiper()}function swiper(){new Swiper(".swiper-container",{direction:"horizontal",grabCursor:!0,slidesPerView:4,slidesPerGroup:1})}$(function(){$("#header").load("/html/head.html"),$("#foot").load("/html/foot.html")}),$.ajax({url:"/nbyshopp",data:{type:0,contentType:!1,cateType:0},success:function(e){localStorage.setItem("shoppNav",JSON.stringify(e.data)),renderShopp(e=e.data),renderRecommend(e)}}),$(".shoppZhong_ul_one").on("click","li",function(){var e=$(this).attr("index");$(this).attr("class","active").siblings().attr("class",""),AJAX(0,!0,e)}),$(".sort").click(function(e){var n,t;"推荐"==e.target.innerText?AJAX():"新品"==e.target.innerText?(n=(t=JSON.parse(localStorage.getItem("shoppNav"))).content.filter(function(e){return e.sale_point}),t.content=n,localStorage.setItem("goodsNav",JSON.stringify(t)),renderShopp(t)):"从低到高"==e.target.innerText?((t=JSON.parse(localStorage.getItem("goodsNav"))).content.sort(function(e,n){return e.price-n.price}),renderShopp(t)):"从高到低"==e.target.innerText&&((e=JSON.parse(localStorage.getItem("goodsNav"))).content.sort(function(e,n){return n.price-e.price}),renderShopp(e))}),$(".shoppZhong_goods").on("click","a",function(e){e.preventDefault();e=$(this).attr("good_id");location.href="./detail.html?goods_id="+e});